jQuery.fn.extend({glosser:function(e){var a={separator:" ",emptyGloss:"",escape:"{}"},n=$.extend({},a,e)
return this.each(function(){var e=$(this),a=e
a=$.trim(a.html())
var r=a.split("\n")
e.empty().addClass("glosser-container"),$.each(r,function(e){r[e]=$.trim(r[e]),r[e]=r[e].replace(/  +/g," ")
var a=n.escape.split(""),s=new RegExp("\\"+a[0]+"(.*?)\\"+a[1],"g")
r[e]=r[e].replace(s,function(e){e=e.replace(/ /g,"&nbsp;")
var a=new RegExp("[\\"+n.escape.split("").join("|\\")+"]","g")
return e=e.replace(a,"")}),r[e]=r[e].split(n.separator)})
for(var s=0;s<r[0].length;s++){var t=$("<span><ul></ul></span>").addClass("glosser-item")
$.each(r,function(e){var a="undefined"!=typeof r[e][s]?r[e][s]:""
t.find("ul").append('<li class="glosser-row-'+(e+1)+'">'+a+"</li>")}),e.append(t)}})}})
