jQuery.fn.extend({glosser:function(e){var a={separator:" ",emptyGloss:"",escape:"{}",prefix:"glosser"},r=$.extend({},a,e)
return this.each(function(){var e=$(this),a=e
a=$.trim(a.html())
var n=a.split("\n")
e.empty().addClass(r.prefix+"-container"),$.each(n,function(e){n[e]=$.trim(n[e]),n[e]=n[e].replace(/  +/g," ")
var a=r.escape.split(""),p=new RegExp("\\"+a[0]+"(.*?)\\"+a[1],"g")
n[e]=n[e].replace(p,function(e){e=e.replace(/ /g,"&nbsp;")
var a=new RegExp("[\\"+r.escape.split("").join("|\\")+"]","g")
return e=e.replace(a,"")}),n[e]=n[e].split(r.separator)})
for(var p=0;p<n[0].length;p++){var s=$("<span><ul></ul></span>").addClass(r.prefix+"-item")
$.each(n,function(e){var a="undefined"!=typeof n[e][p]?n[e][p]:"",t=$("<li>"+a+"</li>").addClass(r.prefix+"-row-"+(e+1))
s.find("ul").append(t)}),e.append(s)}})}})
